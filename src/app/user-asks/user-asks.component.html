<div class="row container  mb-5">
	<h2>
		Requêtes de 
		<strong>
			{{ user.firstname }} {{ user.name }}
		</strong>
	</h2>
	<h3 class="col-12 mb-4">
		Mes demandes de permutations 
	</h3>
	<table 
		*ngIf='asks !== undefined && asks != []'
		class="col-12">
      <thead>
        <tr class="border-bottom">
        	<th class="pb-2 pl-4"> Repos </th>
			<th class="pb-2 pl-4"> Service proposé </th>
			<th class="pb-2 pl-4"> Souhaité </th>
			<th class="pb-2 pl-4"> Equipe </th>
			<th class="pb-2 pl-4"> Début </th>
			<th class="pb-2 pl-4"> Fin </th>
			<th class="pb-2 pl-4"> Action </th>
        </tr>
      </thead>
      <tbody *ngFor="let ask of asks; let i = index">
        <tr 
        	class="border-bottom"
        	*ngIf="ask.user.email == user.email">
		    <td class="pl-4"> {{ ask.rest }} </td>
		    <td class="pl-4"> {{ ask.type }} </td>
			<td class="pl-4"> 
		    	{{ ask.typeVs.nuit == true ? "Nuit" : '' }} 
		    	{{ ask.typeVs.jour == true ? "Jour" : '' }}   
		    	{{ ask.typeVs.mixte == true ? "Mixte" : '' }}   
		    </td>
		    <td class="pl-4"> {{ ask.teamNb }} </td>
		    <td class="pl-4"> {{ ask.start }} </td>
		    <td class="pl-4"> {{ ask.end }} </td>
		    <td class="pl-4"> 
	            <button
	            	title="Voir"
	            	class="btn btn-info ml-1 mr-1"
	            	routerLink="/demandes-en-cours/{{i}}"> 
	              <i class="fas fa-search"></i>
	            </button>
	            <button 
	            	class="btn btn-danger"
	            	(click)="onDeleteAsk(ask)"
	            	title="Supprimer">
	            	<i class="fas fa-times"></i>
	            </button>
	        </td>     
        </tr>
      </tbody>
    </table>
    <h3 class="col-12 mb-4 mt-5">
    	Réponses à mes demandes 
    </h3>
    <table class="col-12">
    	<thead class="border-bottom">
    		<tr>
				<th class="pb-2 pl-4"> Acceptée par </th>
				<th class="pb-2 pl-4"> Matricule </th>
				<th class="pb-2 pl-4"> Pour le service </th>
				<th class="pb-2 pl-4"> Début </th>
				<th class="pb-2 pl-4"> Fin </th>
				<th class="pb-2 pl-4"> Action </th>
    		</tr>
    	</thead>
    	<tbody *ngFor="let offer of offers; let y = index">
    		<tr 
    			class="border-bottom"
    			*ngIf="offer.askRef.user.email == user.email">
		    	<td class="pl-4"> 
		    		{{ offer.user.firstname }} {{offer.user.name}}
		    	</td>
		    	<td class="pl-4">Matricule</td>
			    <td class="pl-4">
			    	{{ offer.askRef.type }} 
			    	
			    </td>
			    <td class="pl-4"> {{offer.askRef.start}} </td>
			    <td class="pl-4"> {{offer.askRef.end}} </td>
			    <td class="pl-4"> 
		            <button 
		            	class="btn btn-danger"
		            	(click)="onDeleteOffer(offer)"
		            	title="Supprimer">
		            	<i class="fas fa-times"></i>
		            </button>
	        	</td>
    		</tr>
    	</tbody>
    </table>
    <h3 class="col-12 mb-4 mt-5">
    	Mes propositions d'accord
    </h3>
    <table class="col-12">
    	<thead class="border-bottom">
    		<tr>
				<th class="pb-2 pl-4"> Envoyée à </th>
				<th class="pb-2 pl-4"> Pour le service </th>
				<th class="pb-2 pl-4"> Début </th>
				<th class="pb-2 pl-4"> Fin </th>
				<th class="pb-2 pl-4"> Action </th>
    		</tr>
    	</thead>
    	<tbody *ngFor="let offer of offers; let y = index">
    		<tr 
    			class="border-bottom"
    			*ngIf="offer.user.email == user.email">
		    	<td class="pl-4"> 
		    		{{ offer.askRef.user.firstname }} {{offer.askRef.user.name}}
		    	</td>
			    <td class="pl-4">
			    	{{ offer.askRef.type }} 
			    	
			    </td>
			    <td class="pl-4"> {{offer.askRef.start}} </td>
			    <td class="pl-4"> {{offer.askRef.end}} </td>
			    <td class="pl-4"> 
		            <button 
		            	class="btn btn-danger"
		            	(click)="onDeleteOffer(offer)"
		            	title="Supprimer">
		            	<i class="fas fa-times"></i>
		            </button>
	        	</td>
    		</tr>
    	</tbody>
    </table>
    <p *ngIf="asks === undefined || asks == []"
    	class="row col-12 btn-info disabled">
    	Vous n'avez pas encore fait de demandes de permutation
    </p>
    <button
      class=" btn btn-secondary mt-5"
      routerLink="/">
        Retour
  </button>


</div>
